"use strict";function mapBasket(){var t=JSON.parse(localStorage.getItem("basket")).map(function(t){return'\n    <div class="added-product" dataId="'.concat(t.product.id,'" tagId="productCard">\n        <img class="added-product__img" src="').concat(t.product.img,'" alt="').concat(t.product.name,'" tagId="productCardImg">\n        <div class="added-product__text-wrapper">\n            <div class="added-product__title" tagId="productCardTitle">').concat(t.product.name,'</div>\n            <div class="added-product__description" tagId="productCardDescription">').concat(t.product.description,'</div>\n        </div>\n        <div class="product-counter-block"> \n            <div>\n                <button class="button product-counter-button added-product__counter-remove-button" tagId="productCardRemoveButton" ').concat(t.count<=1&&'disabled="true"','></button>\n                <span class="added-product__counter" tagId="counterLabel">').concat(t.count,'</span>\n                <button class="button product-counter-button added-product__counter-add-button" tagId="productCardAddButton"></button>\n            </div>\n            <span class="added-product__price" tagId="productCardPrice">').concat(t.product.price*t.count,' â‚½</span> \n            <button class="button product-counter-button added-product__remove-button" tagId="removeFromBasketButton" ></button>\n        </div>\n    </div>\n   ')});document.querySelector(".basket-page__products-section").innerHTML=t.join("")}function checkAddToOrder(){for(var r=window.basketAPI.getBasket(),o=document.querySelectorAll(".add-to-order__item"),t=0;t<o.length;t++)!function(t){var e,d=o[t].getAttribute("dataId");-1!==r.findIndex(function(t){return d===t.product.id})&&((e=JSON.parse(localStorage.getItem("addToOrder")))?(e.push(getProduct(o[t])),localStorage.setItem("addToOrder",JSON.stringify(e))):localStorage.setItem("addToOrder",JSON.stringify([getProduct(o[t])])),o[t].remove(),window.basketAPI.setSumPrice(),window.basketAPI.calcNumberOfProducts(),window.basketAPI.calcFreeDeliverySum())}(t)}mapBasket(),window.basketAPI.setSumPrice(),window.basketAPI.calcNumberOfProducts(),window.basketAPI.calcFreeDeliverySum(),checkAddToOrder();var addToOrderBlock=document.querySelector(".add-to-order__items-block");function getProduct(t){return{name:t.querySelector(".add-to-order__title").innerText,description:t.getAttribute("dataDescription"),img:t.querySelector(".add-to-order__img").getAttribute("src"),weight:Number(t.getAttribute("dataWeight")),price:parseInt(t.querySelector(".add-to-order__price").innerText),id:t.getAttribute("dataId")}}addToOrderBlock.addEventListener("click",function(t){var e,d;t.target.closest(".add-to-order__add-button")&&(e=getProduct(t=t.target.closest(".add-to-order__item")),(d=window.basketAPI.getBasket()).push({product:e,count:1}),window.basketAPI.setBasket(d),checkAddToOrder(),t.remove(),window.basketAPI.changeBasketButtonCount("inc"),mapBasket(),window.basketAPI.setSumPrice(),window.basketAPI.calcNumberOfProducts(),window.basketAPI.calcFreeDeliverySum())});